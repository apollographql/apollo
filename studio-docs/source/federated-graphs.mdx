---
title: Federated graphs in Studio
sidebar_title: Federated graphs
---

import { VideoFrame } from 'gatsby-theme-apollo-docs'

A **federated graph** is a graph thatâ€™s composed of multiple individual **subgraphs**:

[diagram]

Each subgraph represents an underlying service or set of services that provide their own GraphQL API. Different subgraphs are often managed by different teams in an organization.

Apollo Studio provides tools to help any number of teams collaborate on a federated graph and its subgraphs.

<VideoFrame src="http://placeholder"/>

## Viewing a symbol's originating subgraph

The **Schema > Reference** tab in Studio displays a table of your federated schemaâ€™s types and fields. This table includes a Subgraph column:

**[ðŸ“¸screenshot: query field row with subgraph]**

Clicking the subgraph link for a symbol takes you to the line in the subgraph schema where that symbol is defined:

**[ðŸ“¸screenshot: SDL where query field is defined]**

If you're using [the `@contact` directive](#defining-subgraph-contact-information) to specify owner contact information for your subgraphs, hovering over a subgraph name displays its contact information, enabling you to follow up with the right team:

**[ðŸ“¸screenshot: query field row with subgraph and contact tooltip on hover]**

## Viewing subgraph SDL

The **Schema > SDL** tab in Studio displays the raw SDL of your federated graphâ€™s schema, along with the schema of each subgraph.

From this tab you can:
- View metadata about the composed graph and each subgraph (such as endpoint URL and the most recent schema registration date)
- Identify the originating subgraph for any type or field in your API and share a link to it with team members
- Search for types and fields
- Download a copy of your subgraphâ€™s SDL for local development
- Filter out comments and deprecated fields for easier scanning

## Defining subgraph contact information

You can use the `@contact` directive to specify contact information for a particular subgraph, such as a name and URL. This information is visible in Studio, which helps your organization members know who to contact for assistance with a particular type or field:

**[ðŸ“¸screenshot: query field row with subgraph and contact tooltip on hover]**

### Adding the `@contact` directive to your subgraph

To add the `@contact` directive to your schema, you first need to define the directive. Add the following definition to each of your subgraph schemas:

```graphql:title=schema.graphql
directive @contact(
  "Contact title of the subgraph owner"
  name: String!
  "URL where the subgraph can be reached"
  url: String
  "Other relevant notes can be included here; supports markdown links"
  description: String
) on SCHEMA
```

You can now apply the `@contact` directive to the special `schema` object. Many schemas donâ€™t include this object because itâ€™s not required, but you can add it like so:

```graphql:title=schema.graphql
schema @contact(
  name: "Acephei Server Team",
  url: "https://myteam.slack.com/archives/teams-chat-room-url",
  description: "send urgent issues to [#oncall](https://yourteam.slack.com/archives/oncall)."
) {
  query: Query
}
```

Note that the `schema` object canâ€™t be empty, so you need to add the `query` field as shown above if it isnâ€™t already present.

#### Supported `@contact` fields

Available fields:
- `name: String!` - The name of the person, people, or team responsible for the subgraph. **Required**.
- `url: String` - The URL where the subgraphâ€™s owner can be reached. This might be the URL of a chat room or forum, or it could be an email address.
- `description: String` - Provides any additional helpful details about working with this subgraph or contacting its owner. This field also supports markdown links.

#### Known `@contact` limitations

- To provide the `@contact` directive to Apollo, you must register your schema using the `--localSchemaFile` option of `apollo service push`. If you use the `--endpoint` option instead of `--localSchemaFile`, directives are **not** included in the registered schema.
- Similarly, you cannot provide your `@contact` directive with the Automatic Schema Reporting plugin in Apollo Server. This registration method also does not include directives.
- If your subgraph doesnâ€™t already have a `schema` object, you need to add one to use the `@contact` directive. The `schema` object cannot be empty, so you need to include at least one field in it (most commonly `query: Query`). If you do provide the `Query` object like this, it needs to include at least one field in your subgraphâ€™s schema. If your subgraphâ€™s `Query` object is empty, you need to add a dummy field for the SDL to be valid:
```graphql:title=schema.graphql
@contact(...)
schema {
  query: Query
}

extend type Query {
  _dummyField: Boolean
}
```

### Viewing contact information

After you register a subgraph schema with the `@contact` directive, the contact information is included in the metadata shown in Studioâ€™s **Schema > SDL** tab:

**[ðŸ“¸screenshot: SDL metadata with contact info]**

In the **Schema > Reference** tab, youâ€™ll also see a contact card when you hover over the subgraph link of a type or field:

**[ðŸ“¸screenshot: query field row with subgraph and contact tooltip on hover]**

## Federation support in the Explorer

The Apollo Studio Explorer provides enhanced support for working with federated graphs:
- You can preview how your graph resolves data for an operation by inspecting the operationâ€™s query plan in the Response pane.
- While youâ€™re building operations in the Explorer, you can see which subgraph each field of your operation originates in by enabling subgraph hints from the Explorerâ€™s Settings tab.

## Viewing composition errors

Studio displays a **Federated** label next to the name of a federated graph. If a federated graph has composition errors, you can click the label to view the errors that must be resolved before composition can succeed.

**[ðŸ“¸screenshot: Federation label in error state ]**
**[ðŸ“¸screenshot: Composition error modal ]**

[Learn more about composition errors](https://www.apollographql.com/docs/federation/errors/)
